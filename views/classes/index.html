{{extend 'layout.html'}}

{{block head}}
<!-- Anything in this block will be added
     to the html head section of the page. -->
<link rel="stylesheet" media="screen" href="{{=URL('static', 'js/dist/handsontable.full.css')}}">
{{end}}

<h1>Current Classes</h1>

<form>
    <select>
        {{for standard in standards:}}
        <option>{{=standard.short_name}}</option>
        {{pass}}
    </select>
</form>

<div id="student_grades"></div>

{{block page_js}}
<script src="{{=URL('static', 'js/dist/handsontable.full.js')}}"></script>
<script type="text/javascript">
 var data = {{=XML(assignments)}};
 var container = document.getElementById("student_grades");
 var class_roster_table = new Handsontable(container, {
     data: data, // {{=XML(URL('classes', 'student_grades.json'))}},
     minSpareRows: 0,
     colHeaders: [
         "Student Name",
         {{for i in range(len(class_assignments)):}}
         "{{=class_assignments[i].name}}",
         {{pass}}
     ],
     rowHeaders: false,
     contextMenu:true,
     columns: [
       {{for i in range(1, len(assignments[0])):}}
       {data: {{=i}}},
       {{pass}}
     ]
 });
</script>
{{end}}

<!-- http://stackoverflow.com/questions/26222718/handsontable-get-data-via-ajax-and-set-autocomplete-on-one-column -->
